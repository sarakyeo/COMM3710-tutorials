---
title: "LA.4 Tutorial"
output:
  learnr::tutorial:
    theme: "united"
runtime: shiny_prerendered
description: >
  Learn how to recode a variable using `ifelse()` and create a new variable
  from existing variables.
---

```{r setup, include=FALSE}
library(learnr)
library(tidyverse)
library(descr)
library(magrittr)
knitr::opts_chunk$set(echo = FALSE)
```

## Introduction
In this tutorial, you will learn how to: test

1. Use `[ ]` for subsetting to recode variables
2. Use the `ifelse()` function to recode variables
3. Create a new variable by summing existing variables

We will use the `mpg` dataset from `ggplot2`, which has already been loaded for you in this tutorial. If you need to review the `mpg` dataset, open its help page (`?mpg`).


## Recoding variables
**Recode** is a term used to describe the process of making changes to the values of a variable. Recoding a variable often involves changing values in an existing variable to make a new one.

Let's say we want to create a new variable called `citygm` that categorizes the cars based on city gas mileage, `cty`. We will have cars with 15 mpg or lower be categorized as `low` and cars with over 15 mpg be categorized as `high`.

### Subsetting to recode variables
The first method we can use to recode an existing variable into a new one is to use square brackets, `[ ]` for subsetting.

We can use `[ ]` to select any number of elements from a vector. In this case, we will use a **logical vector** to select elements from the original variable, `cty`. The symbols `<=` and `>` are [logical operators](https://sarakyeo.github.io/COMM-3710-bookdown/docs/start.html#logical-operators).

The code below selects elements in the existing variable, `cty`, that are equal to or greater than `15` and assigns the value `low` to them in the new variable `citygm`. Run the code below to create `citygm`.

Then write code to run a frequency distribution of the newly created variable.

```{r ex-square, exercise=TRUE}
mpg$citygm[mpg$cty <= 15] <- "low"
mpg$citygm[mpg$cty > 15] <- "high"
```

```{r ex-square-hint}
freq(mpg$gm)
```

### Your turn
*Write R code to create a new variable, `hwygm`, that categorizes the cars based on highway gas mileage, `hwy`. Have the value of `hwygm` be `low` when `hwy` is less than or equal to `20` and `high` when `hwy` is greater than `20`.*

Remember to run a frequency distribution of a the new variable to check that you created correctly.

```{r student-square, exercise=TRUE}

```

```{r student-square-hint}
mpg$hwygm[mpg$hwy <= 20] <- "low"
mpg$hwygm[mpg$hwy > 20] <- "high"

## Run a frequency distribution
freq(mpg$hwygm)
```


### Using `ifelse()` to recode variables




